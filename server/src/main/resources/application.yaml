server:
  port: 58087

spring:
  # profiles:
  #   active: dev
  application:
    name: server
  data:
    # Redis数据源配置
    redis:
      # database: 0
      host: localhost
      port: 6379
      # password: ENC(zWGPPt/b2zYru5q6HuFG6kHCbf6/RR8ESY169Dig0r2QRF+xXPpZg1jRq1t8wWtZ)
      lettuce:
        pool:
          # 连接池最大连接数（使用负值表示没有限制） 默认 8
          max-active: 8
          # 连接池最大阻塞等待时间（使用负值表示没有限制） 默认 -1
          max-wait: -1ms
          # 连接池中的最大空闲连接 默认 8
          max-idle: 8
          # 连接池中的最小空闲连接 默认 0
          min-idle: 0
    mongodb:
      uri: mongodb://localhost:27017/luckytour

  datasource:
    username: root
    password: ENC(shaNgVEISbAUfrwFSbKmds6O9Z581sXrgvuYGHlUeWxTlNAgdUU3zx1lf4Mtsujz)
    driver-class-name: com.mysql.cj.jdbc.Driver
    database-name: luckytour
    url: jdbc:mysql://localhost:3306/${spring.datasource.database-name}?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
  mail:
    default-encoding: UTF-8
    protocol: smtp
    host: smtp.yeah.net
    port: 25
    username: lucky_tour@yeah.net
    password: ENC(c6dFJcZQmnZl1m1VFNvi3DfF2qcNBzBdcwtEr2qZwesXEryHZAPUafom402/om7pUg4zaWxF2NSZHWh+sndioQ==)
    test-connection: false
    properties:
      mail:
        smtp:
          auth: false
        debug: false
        mime:
          splitlongparameters: false

logging:
  config: classpath:logback-spring.xml

#springdoc相关配置
springdoc:
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha
  api-docs:
    enabled: true
    path: /v3/api-docs
  group-configs:
    - group: 'luckytour'
      paths-to-match: '/**'
      packages-to-scan: com.luckytour.server  #改成你自己的包名，一般到启动类的包名
  packages-to-scan:
    - com.luckytour.server.controller
    - com.luckytour.server.entity
    - com.luckytour.server.vo
    - com.luckytour.server.payload
# knife4j的增强配置，不需要增强可以不配
knife4j:
  enable: true
  setting:
    language: zh_cn
    # 开启动态请求参数，true-开启，false-关闭
    enable-dynamic-parameter: true

jpush:
  app-key: ENC(Ys1XyqrhmGTCsrtrsNCwo0Z5eC5oknrhSqMjHYNkC/roWnhIAp/Lvzi+xkCs8V2I/nZw3qumv7iO0TNBq+i38w==)
  master-secret: ENC(zv1qC94mu453kP8fsc3o3qHa61wt7K07SygaFdeTiiyYIhfDH/tUYcTvU1oCIqEZ7ONhb84LLdnZrI9JbtTdAg==)
  live-time: 1000
  apns-production: false

mybatis-plus:
  global-config:
    db-config:
      update-strategy: not_empty

jwt:
  secret-key: ENC(h5csKS/XZMLdC0VfTS1a4anNg5T/YJheWMyLG9v3reH7yyaU/QfL7CegB8+DjqL/)
  short-ttl: 600000
  long-ttl: 604800000

storage:
  folder:
    default-format: yyyy/MM/dd
  static:
    path: static
    avatar:
      path: avatar
      default: https://cdn.jsdelivr.net/gh/Jin1c-3/picx-images-hosting@master/20240110/luckytour-logo-round.1w2sagoaz074.webp

api:
  gaode:
    key: ENC(yMFeHgGQGfRIcNMZHoaKZW/4mUiIK8+52+ScrMOvqYGKMt6g7Y6Lmo7ph4/XWKAerCOG6SNqi91vHcM3pvCdOeZaIhnNk4sX6LFBWve9aP0=)
    distance: https://restapi.amap.com/v3/distance
    geocode: https://restapi.amap.com/v3/geocode/geo
  caiyun:
    key: ENC(rA9BtN+2c2RQpC+o8nhHFUZCWN6KqpcPwjzGK0MxiiqyX5tDpDjIcxMvf3WZBBcpDOwJf9IOknYdBmGPAQRDkA==)
    daily-weather: https://api.caiyunapp.com/v2.6/%s/%s/daily?dailysteps=15
  flask:
    chat: /chat
    plan-generator:
      url: /generatePlanner
      prompt-field: prompt
      counter: 3 # 计划重新生成的次数，-1表示无穷大
